# core/plugins.conf
#
# 插件配置（TPM 的 run-shell 由 ~/.tmux.conf 负责在最后执行；可选）

# tmux-resurrect：恢复前二次确认，避免误触导致布局被重建
bind C-r confirm-before -p "恢复 tmux 会话/窗口/布局？(y/n)" "run-shell \"$HOME/.config/tmux/plugins/tmux-resurrect/scripts/restore.sh\""

# -- TPM (Tmux Plugin Manager)
# 让 tmux 重启后也能稳定加载插件（XDG 路径：~/.config/tmux/plugins）
set-environment -g TMUX_PLUGIN_MANAGER_PATH "$HOME/.config/tmux/plugins/"

# 插件列表（按需扩展）
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# 避免覆盖现有 prefix 绑定（I/N/U/E 用于 layout_builder）
set -g @tpm-install 'F'
set -g @tpm-update 'D'

# tmux-resurrect 默认会绑定 C-r，这里挪到 R，保留上面的「二次确认 C-r」
set -g @resurrect-restore 'R'
