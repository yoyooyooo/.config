# tmux config entry (public loader)
#
# Layering:
# - core/: cross-platform baseline (keys/hooks/ui/plugins)
# - platform/: platform-specific tweaks (e.g. macOS + iTerm2)
# - features/: optional feature bundles

source-file ~/.config/tmux/core/base.conf
if-shell -F '#{==:#{@debug_minimal_hooks},1}' \
  'source-file ~/.config/tmux/core/hooks.minimal.conf' \
  'source-file ~/.config/tmux/core/hooks.conf'
source-file ~/.config/tmux/core/keys.conf
if-shell -F '#{==:#{@debug_minimal_ui},1}' \
  'source-file ~/.config/tmux/core/ui.minimal.conf' \
  'source-file ~/.config/tmux/core/ui.conf'
source-file ~/.config/tmux/core/plugins.conf
source-file ~/.config/tmux/features/init.conf

# platform: macOS + iTerm2
if-shell 'test "$(uname)" = "Darwin" && test -f ~/.config/tmux/platform/macos-iterm2.conf' "source-file ~/.config/tmux/platform/macos-iterm2.conf"

# locale / utf-8 for remote terminals (WeTTY/SSH/Terminus)
set -ga update-environment " LANG LC_CTYPE LC_ALL"
set -g default-terminal "tmux-256color"
set -g window-size latest
set -g aggressive-resize on
